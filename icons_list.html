<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Web Atlas</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="webAtlas.css" />
    <link rel="stylesheet" type="text/css" href="font-face/webAtlas-original.css" />
    <link rel="stylesheet" type="text/css" href="node_modules/font_logos/logos.css" />

    <style>
        body {
            height: 100%;
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            color:rgb(80, 80, 80);
            background: rgb(222, 222, 222);
            font-family: "WebAtlas";
        }

        h2 {
            text-align: left;
            font-family: 'WebAtlas';
            font-size: 25px;
            margin: 8px;
            margin-top: 30px;
        }

        #sidebar h2 {
            text-align: center;
            color:rgb(111, 186, 255);
        }

        select {
            width: 180px;
            padding: 3px 10px;
            border-radius: 10px;
            color:rgb(53, 55, 57);
            font-family: webAtlas;
            font-size: 1.2em;
            background: none;
            border: 2px solid rgb(53, 55, 57);
            margin: 20px auto;
            display: block;
            outline: none;
        }
        select:disabled {
            opacity: .5;
        }

        select option {
            color: white;
            background-color: rgb(60, 60, 60);
        }

        #header, #sidebar {
            box-sizing: border-box;
            position: fixed;
        }

        #header {
            width: 100%;
            height: 80px;
            padding: 0 .5em;
            font-size: 40px;
            line-height: 40px;
            background-color: white;
        }

        h1 {
            line-height: 80px;
            vertical-align: top;
            font-weight: normal;
            margin: 0;
            font-size: 40px;
            display: inline-block;
        }

        #search {
            width: 200px;
            height: 40px;
            line-height: 40px;
            padding-left: .5em;
            color:rgb(140, 140, 140);
            font-size: 26px;
            background-color: rgb(250, 250, 250);
            box-shadow:
                inset 0 0 12px rgba(150, 150, 150, .45),
                inset 0 1px rgba(255, 255, 255, 0.1),
                inset 0 -1px 3px rgba(0, 0, 0, 0.3),
                inset 0 0 0 1px rgba(255, 255, 255, 0.1),
                0 1px 2px rgba(0, 0, 0, 0.15);
            border-radius: 20px;
            vertical-align: top;
            position: fixed;
            top: 20px;
            left: 300px;
        }
        #search input[type=text] {
            width: 120px;
            color:rgb(140, 140, 140);
            line-height: 40px;
            font-size: 25px;
            font-family: WebAtlas;
            border: none;
            background: none;
            outline: none;
        }

        #sidebar {
            width: 250px;
            padding: 1em;
            background: white;
            box-shadow: inset 0 0 3em rgba(0, 0, 0, .3);
            top: 80px;
            left: 0;
            bottom: 0;
            position: fixed;
        }
        #sidebar .btn {
            background-color: white;
            line-height: 1.7em;
            margin-bottom: 5px;
            font-size: 1.2em;
            text-align: center;
            box-sizing: border-box;
        }

        #content {
            overflow: auto;
            top: 80px;
            left: 250px;
            right: 0;
            bottom: 0;
            position: fixed;
        }
        #content.gridMode .item  {
            width: 60px;
            height: 60px;
            line-height: 50px;
            margin: 0;
        }
        #content.gridMode .item .title, #content.gridMode .item .wrapper {
            display: none;
        }

        #divIcons {
            padding: 1em;
        }

        #arrowUp {
            width: 40px;
            height: 40px;
            line-height: 40px;
            text-align: center;
            font-size: 22px;
            border-radius: 100%;
            cursor: pointer;
            background-color: white;
            position: fixed;
            right: 30px;
            bottom: 30px;
        }
        #arrowUp:active {
            box-shadow: inset 0 -1px 18px rgba(78, 82, 87, 0.6), inset 0 0 0 1px rgba(255, 255, 255, 0.1);
            background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.1), transparent 50%, rgba(255, 255, 255, 0.07));
        }

        #menuTopRight {
            position: fixed;
            top: 20px;
            right: 20px;
        }

        #menuTopRight .btn {
            width: 40px;
            height: 40px;
            line-height: 40px;
            box-sizing: border-box;
            text-align: center;
            font-size: 20px;
            border-radius: 0;
            cursor: pointer;
        }

        #menuTopRight .btn:first-child {
            border-top-left-radius: 8px;
            border-bottom-left-radius: 8px;
        }
        #menuTopRight .btn:last-child {
            border-top-right-radius: 8px;
            border-bottom-right-radius: 8px;
        }

        #messageLine {
            font-family: 'WebAtlas';
            line-height: 28px;
            font-size: 20px;
            padding: .3em .5em;
            box-sizing: border-box;
            overflow: hidden;
            background: rgb(111, 186, 255);
            cursor: pointer;
            position: absolute;
            left: 0;
            right: 0;
            top: 0;
            z-index: 1;
        }

        .hr {
            width: 300px;
            height: 2px;
            max-width: 100%;
            margin: 5px 0;
            background-color: rgb(60, 60, 60);
        }

        .btn {
            background: rgb(240, 240, 240);
            border-radius: 3px;
            box-shadow:
                inset 0 1px rgba(255, 255, 255, 0.1),
                inset 0 -1px 3px rgba(0, 0, 0, 0.3),
                inset 0 0 0 1px rgba(255, 255, 255, 0.1),
                0 1px 2px rgba(0, 0, 0, 0.15);
            cursor: pointer;
        }
        .btn:active {
            box-shadow: inset 0 -1px 18px rgba(78, 82, 87, 0.6), inset 0 0 0 1px rgba(255, 255, 255, 0.1);
            background-image: linear-gradient(to bottom, rgba(0, 0, 0, 0.1), transparent 50%, rgba(255, 255, 255, 0.07));
        }

        .item {
            width: 100px;
            box-sizing: border-box;
            padding: 5px;
            margin: 4px;
            font-size: 30px;
            text-align: center;
            background-clip: border-box;
            vertical-align: top;
            animation: flipInX .5s;
            display: inline-block;
            position: relative;
        }
        .item .wrapper {
            position: absolute;
            height: 22px;
            left: 5px;
            right: 5px;
            bottom: 5px;
            background: linear-gradient(to right,
                rgba(240,240,240,1) 0%,
                rgba(240,240,240,0) 5%,
                rgba(240,240,240,0) 95%,
                rgba(240,240,240,1) 100%
            );
        }
        .item .title {
            overflow: hidden;
            padding: 0 10px;
            font-size: 18px;
            white-space: nowrap;
        }

        .item:active .wrapper {
            display: none;
        }

        
        /*** ANIMATIONS ***/

        .fadeIn {
            animation: fadeIn .5s;
        }

        @keyframes fadeIn {
            0%   {opacity: 0;}
            100% {opacity: 1;}
        }

        @keyframes flipInX {
            0%   {transform: rotateX(90deg);}
            100% {transform: rotateX(0deg);}
        }


        /*** THEME SOMBRE ***/

        body.darkMode {
            color: #ddd;
            text-shadow: 1px 1px 0 black;
            background: #373738;
        }
        body.darkMode #header {
            border-bottom: 1px solid #26272b;
            background: linear-gradient(#646464, #333);
        }

        body.darkMode h1, body.darkMode h2, body.darkMode .hr {
            color:rgb(210, 167, 23);
        }
        body.darkMode .hr {
            background-color: rgb(210, 167, 23);
        }

        body.darkMode #sidebar h2 {
            color: rgb(53, 55, 57);
            text-shadow: 0 1px 0 rgba(255, 255, 255, .25);
        }

        body.darkMode .btn, body.darkMode #arrowUp {
            background-color: rgba(27, 27, 29, .9);
            border: 1px solid rgba(0, 0, 0, .4);
            border-bottom-color: rgb(17, 17, 17);
            box-shadow:
                inset 0 1px rgba(255,255,255,0.1),
                inset 0 -1px 3px rgba(0,0,0,0.3),
                inset 0 0 0 1px rgba(255,255,255,0.1),
                0 1px 2px rgba(0,0,0,0.15);
        }

        body.darkMode #arrowUp {
            background: rgba(27, 27, 29, .9);
        }

        body.darkMode .wrapper {
            background: linear-gradient(to right,
                rgba(27, 27, 29,1) 0%,
                rgba(27, 27, 29,0) 5%,
                rgba(27, 27, 29,0) 95%,
                rgba(27, 27, 29,1) 100%
            );
        }

        body.darkMode #sidebar {
            border-right: 1px solid #313131;
            background: #737373;
            box-shadow: inset 0 0 5em rgba(0, 0, 0, 0.6);
        }

        body.darkMode #sidebar .btn {
            text-shadow: 0 1px rgba(0,0,0,0.8);
            background: #46494d;
            line-height: 1.5em;
            background-clip: border-box;
            border: 1px solid #111;
            border-bottom-color: rgb(17, 17, 17);
            border-radius: 3px;
            box-shadow: 
                inset 0 1px rgba(255,255,255,0.1),
                inset 0 -1px 3px rgba(0,0,0,0.3),
                inset 0 0 0 1px rgba(255,255,255,0.1),
                0 1px 2px rgba(0,0,0,0.15);
            background-image: linear-gradient(to bottom, rgba(255,255,255,0.08),rgba(255,255,255,0) 50%,rgba(0,0,0,0) 51%,rgba(0,0,0,0.25));
        }
        body.darkMode #sidebar .btn:active {
            background: #393d40;
            box-shadow: inset 0 -1px 18px rgba(0,0,0,0.8),inset 0 0 0 1px rgba(255,255,255,0.1);
            background-image: linear-gradient(to bottom, rgba(0,0,0,0.1),transparent 50%,rgba(255,255,255,0.07));
        }

        body.darkMode #messageLine {
            color: rgb(80, 80, 80);
            background-color: rgb(210, 167, 23);
            text-shadow: none;
        }

        body.darkMode #search {
            color: #ddd;
            background: rgba(27, 27, 29, .9);
            border: 1px solid rgba(0, 0, 0, .4);
            box-shadow:
                inset 0 1px rgba(255, 255, 255, 0.1),
                inset 0 -1px 3px rgba(0, 0, 0, 0.3),
                inset 0 0 0 1px rgba(255, 255, 255, 0.1),
                0 1px 2px rgba(0, 0, 0, 0.15);
            margin-top: -1px;
        }
        body.darkMode #search input {
            color: #ddd;
        }


        /*** MEDIAS QUERIES ***/

        @media (max-width: 650px) {
            #header {
                height: 70px;
            }

            h1 {
                line-height: 70px;
            }

            #header, #sidebar, #content {
                width: auto;
                top: 0;
                left: 0;
                display: block;
                position: relative;
            }

            #sidebar {
                text-align: center;
            }

            #sidebar .btn {
                width: 31%;
                display: inline-block;
            }
            #sidebar #btn_logos {
                width: 60%;
            }


            #messageLine {
                position: fixed;
                top: 70px;
            }

            #divIcons {
                text-align: center;
                position: relative;
            }

            #menuTopRight {
                top: 15px;
                right: 15px;
            }

            #search {
                width: 45px;
                margin: 0;
                white-space: nowrap;
                overflow: hidden;
                transition: width .5s;
                z-index: 2;
                position: fixed;
                top: 15px;
                right: 120px;
                left: unset;
            }
            #search:hover, #search.active {
                width: 170px;
            }

            #arrowUp {
                z-index: 1;
            }

            body.darkMode #sidebar {
                border-right: none;
                border-bottom: 1px solid #313131;
            }
        }
        @media (max-width: 460px) {
            #header {
                padding: 0 .3em;
            }

            h1 {
                width: 150px;
                line-height: 33px;
                font-size: 36px;
            }
        }
    </style>
</head>

<body>
    <input type="text" id="inputClipboard" style="display:none" />

    <div id="header">
        <h1>Font WebAtlas</h1>
        <label id="search" class="icon-first magnify">
            <input id="search_input" type="text">
        </label>
    </div>

    <div id="sidebar">
        <h2>Style:</h2>
        <select id="select_style" autocomplete="off"></select>

        <h2>Packs:</h2>
        <div id="btn_base" class="btn">Base</div>
        <div id="btn_editing" class="btn">Editing</div>
        <div id="btn_geometrics" class="btn">Geometrics</div>
        <div id="btn_games" class="btn">Games</div>

        <h2>Add on:</h2>
        <div id="btn_logos" class="btn">Logos & Social Medias</div>

    </div>

    <div id="content">
        <div id="messageLine" class="fadeIn">
            <span id="messageLine_icon" class="icon"></span>
            <span id="messageLine_message" class="message"></span>
        </div>

        <div id="divIcons"></div>
    </div>
    
    <div id="menuTopRight">
        <div id="switchTheme" class="btn icon moon"></div><div id="switchDisplayMode" class="btn icon apps"></div>
    </div>
    
    <div id="arrowUp" class="btn icon arrow2-up fadeIn"></div>

    <script>
        var content = document.getElementById('content');
        var divIcons = document.getElementById('divIcons');
        var gianteIcon = document.getElementById('gianteIcon');
        var arrowUp = document.getElementById('arrowUp');
        var menuTopRight = document.getElementById('menuTopRight');
        var switchTheme = document.getElementById('switchTheme');
        var switchDisplayMode = document.getElementById('switchDisplayMode');
        var inputClipboard = document.getElementById('inputClipboard');
        var select_style = document.getElementById('select_style');
        var search_input = document.getElementById('search_input');
        var messageLine = document.getElementById('messageLine');
        var messageLine_icon = document.getElementById('messageLine_icon');
        var messageLine_message = document.getElementById('messageLine_message');
        var btn_base = document.getElementById('btn_base');
        var btn_editing = document.getElementById('btn_editing');
        var btn_geometrics = document.getElementById('btn_geometrics');
        var btn_games = document.getElementById('btn_games');
        var btn_logos = document.getElementById('btn_logos');

        var INTERVAL_SCROLL_RIGHT = 23;
        var INTERVAL_SCROLL_LEFT = 10;
        var LARGE_SCREEN = 650;
        var TEXTS = {
            intro: "Clic on an item to copy the className on clipboard.",
            trademark: "This work includes material that may be protected as a trademark in some jurisdictions. If you want to use it, you have to ensure that you have the legal right to do so and that you do not infringe any trademark rights. See the trademark owner for rules about appropriate use of their trademarks."
        };

        var iconsElements = [];
        var data = null;
        var data_logos = null;
        var lastLoadedList = null;
        
        var loadedData = {data:false,logos:false};
        var list = "icons";
        var urlParams = getUrlParams();
        var initialized = false;

        /* INIT */

        if (urlParams.list) {
            if (urlParams.list === "icons" || urlParams.list === "editing" || urlParams.list === "geometrics" || urlParams.list === "games" || urlParams.list === "logos")   // Liste des valeurs authorisés
                list = urlParams.list;
        }

        data = loadJSON("icons.json", null, function(){preinit("data");});
        data_logos = loadJSON("node_modules/font_logos/logos.json", null, function(){preinit("logos");});

        function loadJSON(url, args, func, func_error) {
            var obj = {};
            var xhr = new XMLHttpRequest();

            xhr.open("POST", url, true);
            xhr.setRequestHeader("Content-Type", "application/json");
            
            if (typeof args === "object") {
                var str = "";

                for (var arg in args) {
                    str += arg + "=" + args[arg] + "&";
                }
                str = str.substring(0, str.length-1);
                
                xhr.send(str);
            }
            else
                xhr.send();

            xhr.onreadystatechange = function () {
                var xhr = this;

                if (xhr.readyState != xhr.DONE)
                    return false;

                if (xhr.status == 200) {
                    try {
                        newObj = JSON.parse(xhr.response);
                        if (Object.assign)
                            Object.assign(obj, newObj)
                        else
                            assign(obj, newObj);
                    }
                    catch (error) {
                        func_error ? func_error(error) : console.warn(error);
                        return false;
                    }

                    if (func)
                        func();
                }
                else {
                    var error = "loadJSON Error " + xhr.status;
                    func_error ? func_error(error) : console.warn(error);
                }
            }

            return obj;
        }

        function preinit(id) {
            loadedData[id] = true;

            if (initialized)
                return false;

            if (list === "icons" && loadedData.data)
                init("icons");
            else if (list === "logos" && loadedData.data && loadedData.logos) // Les deux fichiers doivent être chargés
                init("logos");
        }

        function init(icons) {
            initialized = true;
            loadList(icons);
            
            for (var i = 0; i < data.styles.length; i++) {
                var style = data.styles[i];
                var e = document.createElement('option');
                e.value = style;
                e.innerHTML = ucfirst(style);
                select_style.appendChild(e);
            }

            showMessage("circle-info outline", TEXTS.intro);
        }

        var itemsScrolling = [];
        var itemActual = null;

        setInterval(auto_scrollRight, INTERVAL_SCROLL_RIGHT);
        setInterval(auto_scrollLeft, INTERVAL_SCROLL_LEFT);

        function auto_scrollRight() {
            for (var i = 0; i < itemsScrolling.length; i++) {
                var e = itemsScrolling[i];

                if (e === itemActual) {
                    e.childNodes[1].scrollLeft++;
                    return;
                }
            }
        }

        function auto_scrollLeft() {
            var newTab = [];

            for (var i = 0; i < itemsScrolling.length; i++) {
                var e = itemsScrolling[i];
                var t = e.childNodes[1];

                if (e !== itemActual) {
                    t.scrollLeft--;

                    // On retire les éléments dont le scroll est a 0
                    if (t.scrollLeft > 0) {
                        newTab.push(e);
                    }
                }
                else {
                    // itemActual doit être gardé dans la liste
                    newTab.push(e);
                }
            }

            itemsScrolling = newTab;
        }

        onload = function() {
            // On doit attendre que la page soit chargé pour éviter des erreurs d'évènement
            onmousemove = function (e) {
                /** Gestion du scroll des noms d'icones **/
                var ele = e.target;
                
                if (hasClass("wrapper", ele) || hasClass("icon", ele)) {
                    ele = ele.parentElement;
                }
                if (hasClass("btn", ele) && hasClass("item", ele)) {
                    if (ele !== itemActual && ele.childNodes[1].scrollLeft === 0) {   // L'élément ne dois être ajouté qu'une fois
                        itemsScrolling.push(ele);
                    }

                    itemActual = ele;
                }
                else {
                    itemActual = null;
                }
            };
        }

        function majInterface() {
            if(largeScreen()) { 
                // Desktop
                messageLine.style.top = content.scrollTop + "px";

                if (content.scrollTop === 0)
                    arrowUp.style.display = "none";
                else
                    arrowUp.style.display = "block";
            }
            else {
                // Mobile
                messageLine.style.top = "70px";

                if (document.documentElement.scrollTop === 0)
                    arrowUp.style.display = "none";
                else
                    arrowUp.style.display = "block";
            }
        }

        onresize = majInterface;

        onscroll = majInterface;

        content.onscroll = majInterface;

        content.onclick = function (e) {
            var ele = e.target;

            if (hasClass("icon", ele)) {
                ele = ele.parentElement;
            }

            if (ele.className === "btn item") {
                inputClipboard.style.display = 'block';
                inputClipboard.value = ele.codeIcon;
                if (lastLoadedList !== "icons" && lastLoadedList !== "logos")
                    inputClipboard.value += " " + lastLoadedList;
                inputClipboard.select();
                document.execCommand('copy');
                inputClipboard.blur();
                inputClipboard.style.display = 'none';

                showMessage(ele.codeIcon, "has been copied to the clipboard!");
            }
        };

        select_style.onchange = function () {
            loadList();
        };

        messageLine.onclick = function () {
            this.style.display = "none";
        };

        btn_base.onclick = function () {
            loadList("icons");
        };

        btn_editing.onclick = function () {
            loadList("editing");
        };

        btn_geometrics.onclick = function () {
            loadList("geometrics");
        };

        btn_games.onclick = function () {
            loadList("games");
        };

        btn_logos.onclick = function () {
            loadList("logos");

            showMessage("circle-info outline", TEXTS.trademark);
        };

        arrowUp.onclick = function () {
            if (largeScreen()) {
                content.scrollTop = 0;
            }
            else {
                document.documentElement.scrollTop = 0;
            }
        };

        search_input.onfocus = function () {
            addClass("active", search_input.parentElement);
        };

        search_input.onblur = function () {
            removeClass("active", search_input.parentElement);
        };

        search_input.onkeydown = function () {
            setTimeout(function () {
                search();
            }, 1);
        }

        function largeScreen() {
            return getInnerWidth() > LARGE_SCREEN;
        }

        function showMessage(icon, message) {
            messageLine.style.display = "block";
            messageLine_icon.className = "icon " + select_style.value + " " + lastLoadedList + " " + icon;
            messageLine_message.innerHTML = message;
        }

        function search() {
            var s = search_input.value;

            if (s === "") {
                showAllIcones();
                return false;
            }

            for (var i = 0; i < iconsElements.length; i++) {
                var e = iconsElements[i];
                var iconName = e.childNodes[1].firstChild.nodeValue;

                if (iconName.indexOf(s) !== -1)
                    e.style.display = "";
                else
                    e.style.display = "none";
            }
        }

        function showAllIcones() {
            for (var i = 0; i < iconsElements.length; i++) {
                iconsElements[i].style.display = "";
            }
        }

        function loadList(list) {
            var style = select_style.value || "original";   // "original" si la page n'est pas encore initialisée
            var categories = null;

            divIcons.innerHTML = "";
            iconsElements = [];

            if(list === undefined)
                list = lastLoadedList;
            else
                lastLoadedList = list;

            if(list === "logos") {
                categories = data_logos["icons"];
                select_style.disabled = true;
            }
            else {
                categories = data[list];
                select_style.disabled = false;
            }

            for (category in categories) {
                var icones = categories[category];
                var newH2 = document.createElement('h2');

                newH2.innerHTML = category;
                divIcons.appendChild(newH2);
                divIcons.appendChild(getHr());

                for (icon in icones) {
                    var char = icones[icon];
                    var newDiv = document.createElement('div');
                    var newDivIcon = document.createElement('div');
                    var newDivWrapper = document.createElement('div');
                    var newDivTitle = document.createElement('div');

                    newDivIcon.className = "icon " + icon;
                    addClass(style, newDivIcon);
                    addClass(list, newDivIcon);
                    newDiv.appendChild(newDivIcon);
                    newDiv.className = "btn item";
                    newDiv.codeIcon = icon;

                    newDivWrapper.className = "wrapper";

                    newDivTitle.className = "title";
                    newDivTitle.appendChild(document.createTextNode(icon));
                    newDiv.appendChild(newDivTitle);
                    newDiv.appendChild(newDivWrapper);

                    iconsElements.push(newDiv);
                    divIcons.appendChild(newDiv);

                    if (newDivTitle.scrollWidth > newDivTitle.offsetWidth) {
                        var empty = document.createElement("span");

                        empty.style.width = "5px";
                        empty.style.display = "inline-block";
                        newDivTitle.appendChild(empty);   // Permet un scrolling total
                    }
                }
            }
        }

        switchTheme.onclick = function () {
            toggleClass("moon", this);
            toggleClass("sun", this);

            toggleClass("darkMode", document.body);
        };

        switchDisplayMode.onclick = function () {
            toggleClass("apps3", this);
            toggleClass("apps", this);

            toggleClass("gridMode", content);
        };

        function getHr() {
            var element = document.createElement('div');
            element.className = "hr";

            return element;
        }

        function getInnerWidth() {
            return window.innerWidth || document.body.clientWidth || document.documentElement.clientWidth; // Pour obtenir la largeur disponible, fonctionne toutes correctement.
        }

        // fallback de Object.assign() pour IE11
        function assign(target, source) {
            for (var key in source) {
                target[key] = source[key];
            }
        }

        function ucfirst(str) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        }

        function getUrlParams() {
            var obj = {};
            var url = window.location.search;

            if (url) {
                params = url.substring(1).split("&");

                for (var i = 0; i < params.length; i++) {
                    var p = params[i];
                    p = p.split("=");
                    obj[p[0]] = p[1];
                }
            }

            return obj;
        }

        // MANIPULATION DE CLASS
        // Utile pour IE < 10 (classList n'étant pas compatible avant Internet Explorer 10)

        function hasClass(c, element) {
            if (element.className == '')
                return false;

            var classes = element.className.split(' ');
            return classes.indexOf(c) !== -1;
        }

        function addClass(c, element) {
            if (hasClass(c, element))
                return false;

            element.className += " " + c;
            return true;
        }

        function removeClass(c, element) {
            if (!hasClass(c, element))
                return false;

            var classes = element.className.split(' ');
            var newClass = "";
            var indexToRemove = classes.indexOf(c);

            classes.splice(indexToRemove, 1);

            if (classes.length > 0)
                newClass = classes[0];

            for (var i = 1; i < classes.length; i++) {
                newClass += " " + classes[i];
            }

            element.className = newClass;

            return true;
        }

        function toggleClass(c, element) {	/* Ajoute la class si elle n'existe pas ou Supprime la class si elle existe */
            if (!removeClass(c, element)) {
                addClass(c, element);
                return true;
            }

            return false;
        }
    </script>
</body>

</html>